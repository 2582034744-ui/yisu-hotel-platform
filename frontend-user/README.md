# æ˜“å®¿é…’åº—é¢„è®¢å¹³å° - ç”¨æˆ·ç«¯ç§»åŠ¨ç«¯

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯**æ˜“å®¿é…’åº—é¢„è®¢å¹³å°**çš„ç”¨æˆ·ç«¯ç§»åŠ¨ç«¯ï¼Œé¢å‘ç»ˆç«¯æ¶ˆè´¹è€…æä¾›é…’åº—æŸ¥è¯¢ã€æµè§ˆã€é¢„è®¢ç­‰åŠŸèƒ½ã€‚

**é¡¹ç›®è§’è‰²**: æˆå‘˜Aï¼ˆå‰ç«¯ä¸»æ”» + ç”¨æˆ·ç«¯å¼€å‘ï¼‰  
**æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Vite + Ant Design Mobile + Zustand + Tailwind CSS

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
mobile-react/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”‚   â”œâ”€â”€ request.ts          # axiosè¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ hotel.ts            # é…’åº—ç›¸å…³API
â”‚   â”œâ”€â”€ pages/                  # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx            # é¦–é¡µ/é…’åº—æŸ¥è¯¢é¡µ
â”‚   â”‚   â”œâ”€â”€ Home.css
â”‚   â”‚   â”œâ”€â”€ HotelList.tsx       # é…’åº—åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ HotelList.css
â”‚   â”‚   â”œâ”€â”€ HotelDetail.tsx     # é…’åº—è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ HotelDetail.css
â”‚   â”œâ”€â”€ store/                  # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ searchStore.ts      # æœç´¢æ¡ä»¶çŠ¶æ€
â”‚   â”œâ”€â”€ types/                  # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ App.tsx                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ main.tsx                # æ¸²æŸ“å…¥å£
â”‚   â””â”€â”€ index.css               # å…¨å±€æ ·å¼
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd mobile-react
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

é»˜è®¤è®¿é—®åœ°å€: http://localhost:5175

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

---

## ğŸ”Œ åç«¯APIå¯¹æ¥è¯´æ˜

### åŸºç¡€é…ç½®

è¯·æ±‚åŸºç¡€URLåœ¨ `vite.config.ts` ä¸­é…ç½®ä»£ç†ï¼š

```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:3001',  // åç«¯æœåŠ¡åœ°å€
      changeOrigin: true,
    },
  },
}
```

### APIæ¥å£åˆ—è¡¨

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| è·å–é…’åº—åˆ—è¡¨ | GET | /api/hotels | æ”¯æŒåˆ†é¡µã€ç­›é€‰ã€æ’åº |
| è·å–é…’åº—è¯¦æƒ… | GET | /api/hotels/:id | è·å–å•ä¸ªé…’åº—å®Œæ•´ä¿¡æ¯ |
| æœç´¢é…’åº— | GET | /api/hotels/search | å…³é”®è¯æœç´¢ |
| è·å–æ¨èé…’åº— | GET | /api/hotels/recommended | é¦–é¡µæ¨èåˆ—è¡¨ |
| åˆ›å»ºé¢„è®¢ | POST | /api/bookings | åˆ›å»ºé…’åº—é¢„è®¢ |

### æ•°æ®æ¨¡å‹

#### Hotel (é…’åº—)
```typescript
interface Hotel {
  id: number;
  name: string;              // é…’åº—ä¸­æ–‡å
  name_en?: string;          // é…’åº—è‹±æ–‡å
  address: string;           // åœ°å€
  star_rating: number;       // æ˜Ÿçº§ (1-5)
  images?: string[];         // å›¾ç‰‡URLæ•°ç»„
  description?: string;      // é…’åº—ä»‹ç»
  facilities?: string;       // è®¾æ–½ï¼ˆé€—å·åˆ†éš”ï¼‰
  phone?: string;            // ç”µè¯
  email?: string;            // é‚®ç®±
  status: 'pending' | 'approved' | 'rejected' | 'offline';
  merchant_id?: number;
  merchant_name?: string;
  created_at?: string;
  updated_at?: string;
  rooms?: RoomType[];        // æˆ¿å‹åˆ—è¡¨
  nearby_places?: NearbyPlace[];  // å‘¨è¾¹åœ°ç‚¹
  min_price?: number;        // æœ€ä½ä»·æ ¼
  rating?: number;           // è¯„åˆ†
  review_count?: number;     // è¯„ä»·æ•°
  distance?: string;         // è·ç¦»
  tags?: string[];           // æ ‡ç­¾
}
```

#### RoomType (æˆ¿å‹)
```typescript
interface RoomType {
  id?: number;
  name: string;              // æˆ¿å‹åç§°
  price: number;             // åŸä»·
  discount_price?: number;   // ä¼˜æƒ ä»·
  bed_type: string;          // åºŠå‹
  area?: number;             // é¢ç§¯(mÂ²)
  max_guests: number;        // æœ€å¤§å…¥ä½äººæ•°
  description?: string;      // æè¿°
  images?: string[];         // å›¾ç‰‡
}
```

#### NearbyPlace (å‘¨è¾¹åœ°ç‚¹)
```typescript
interface NearbyPlace {
  id?: number;
  name: string;              // åç§°
  type: 'attraction' | 'transport' | 'shopping';  // ç±»å‹
  distance: string;          // è·ç¦»
}
```

### æœç´¢å‚æ•°

```typescript
interface SearchParams {
  keyword?: string;          // å…³é”®è¯
  city?: string;             // åŸå¸‚
  star_rating?: number;      // æ˜Ÿçº§ç­›é€‰
  min_price?: number;        // æœ€ä½ä»·æ ¼
  max_price?: number;        // æœ€é«˜ä»·æ ¼
  checkin_date?: string;     // å…¥ä½æ—¥æœŸ (YYYY-MM-DD)
  checkout_date?: string;    // ç¦»åº—æ—¥æœŸ (YYYY-MM-DD)
  sort_by?: 'price_asc' | 'price_desc' | 'rating' | 'distance';
  page: number;              // é¡µç 
  pageSize: number;          // æ¯é¡µæ•°é‡
}
```

---

## ğŸ“± åŠŸèƒ½æ¨¡å—

### 1. é¦–é¡µ (Home)
- âœ… é¡¶éƒ¨BanneråŒºåŸŸ
- âœ… æœç´¢æ¡†ï¼ˆæ”¯æŒå…³é”®è¯æœç´¢ï¼‰
- âœ… æ—¥æœŸé€‰æ‹©ï¼ˆå…¥ä½/ç¦»åº—ï¼‰
- âœ… å¿«æ·ç­›é€‰æ ‡ç­¾ï¼ˆäº”æ˜Ÿçº§/å››æ˜Ÿçº§/ç»æµå‹/æ™¯ç‚¹å‘¨è¾¹ï¼‰
- âœ… æ¨èé…’åº—åˆ—è¡¨

### 2. é…’åº—åˆ—è¡¨é¡µ (HotelList)
- âœ… é¡¶éƒ¨æœç´¢æ 
- âœ… æ’åºç­›é€‰ï¼ˆç»¼åˆ/ä»·æ ¼/è¯„åˆ†ï¼‰
- âœ… é…’åº—å¡ç‰‡åˆ—è¡¨
- âœ… ä¸‹æ‹‰åˆ·æ–° (PullToRefresh)
- âœ… æ— é™æ»šåŠ¨åŠ è½½ (InfiniteScroll)
- âœ… éª¨æ¶å±åŠ è½½æ•ˆæœ

### 3. é…’åº—è¯¦æƒ…é¡µ (HotelDetail)
- âœ… å›¾ç‰‡è½®æ’­å±•ç¤º
- âœ… é…’åº—åŸºç¡€ä¿¡æ¯ï¼ˆåç§°ã€æ˜Ÿçº§ã€åœ°å€ã€è¯„åˆ†ï¼‰
- âœ… è®¾æ–½æ ‡ç­¾å±•ç¤º
- âœ… æ—¥æœŸé€‰æ‹©å±•ç¤º
- âœ… æˆ¿å‹åˆ—è¡¨ï¼ˆæ”¯æŒé¢„è®¢ï¼‰
- âœ… é…’åº—ä»‹ç»
- âœ… å‘¨è¾¹ä¿¡æ¯ï¼ˆæ™¯ç‚¹/äº¤é€š/å•†åœºï¼‰
- âœ… é¢„è®¢å¼¹çª—ï¼ˆå¡«å†™å…¥ä½äººä¿¡æ¯ï¼‰

---

## ğŸ› ï¸ æŠ€æœ¯äº®ç‚¹

### 1. çŠ¶æ€ç®¡ç†
ä½¿ç”¨ **Zustand** + **persistä¸­é—´ä»¶** å®ç°æœç´¢çŠ¶æ€æŒä¹…åŒ–ï¼š
- æœç´¢å…³é”®è¯
- å…¥ä½/ç¦»åº—æ—¥æœŸ
- ç­›é€‰æ¡ä»¶ï¼ˆæ˜Ÿçº§ã€ä»·æ ¼ï¼‰
- æ’åºæ–¹å¼

### 2. æ€§èƒ½ä¼˜åŒ–
- **å›¾ç‰‡æ‡’åŠ è½½** (`loading="lazy"`)
- **æ— é™æ»šåŠ¨åŠ è½½**ï¼ˆé¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®ï¼‰
- **éª¨æ¶å±**ï¼ˆæå‡ perceived performanceï¼‰
- **ä¸‹æ‹‰åˆ·æ–°**ï¼ˆç¬¦åˆç§»åŠ¨ç«¯ä½¿ç”¨ä¹ æƒ¯ï¼‰

### 3. ç§»åŠ¨ç«¯é€‚é…
- **Viewporté…ç½®**ï¼š`maximum-scale=1.0, user-scalable=no`
- **å®‰å…¨åŒºåŸŸé€‚é…**ï¼š`safe-area-inset-bottom`
- **è§¦æ‘¸ä¼˜åŒ–**ï¼š`-webkit-overflow-scrolling: touch`
- **Ant Design Mobile**ï¼šä¸“ä¸ºç§»åŠ¨ç«¯è®¾è®¡çš„ç»„ä»¶åº“

### 4. TypeScriptè§„èŒƒ
- å®Œæ•´çš„ç±»å‹å®šä¹‰
- æ¥å£å“åº”ç±»å‹çº¦æŸ
- ç»„ä»¶Propsç±»å‹æ£€æŸ¥

---

## ğŸ“Š ä¸åç«¯åä½œæ¸…å•

### å·²å®Œæˆåç«¯å¯¹æ¥å‡†å¤‡

| ä»»åŠ¡ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| APIæ¥å£å°è£… | âœ… | axiosç»Ÿä¸€è¯·æ±‚å¤„ç† |
| ç±»å‹å®šä¹‰ | âœ… | å®Œæ•´çš„TypeScriptç±»å‹ |
| é”™è¯¯å¤„ç† | âœ… | ç»Ÿä¸€é”™è¯¯æç¤º |
| LoadingçŠ¶æ€ | âœ… | éª¨æ¶å± + åŠ è½½åŠ¨ç”» |
| ä»£ç†é…ç½® | âœ… | vite.config.tsä»£ç†é…ç½® |

### éœ€è¦åç«¯é…åˆçš„æ¥å£

```
ã€å¿…éœ€æ¥å£ã€‘
1. GET  /api/hotels              - è·å–é…’åº—åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ï¼‰
2. GET  /api/hotels/:id          - è·å–é…’åº—è¯¦æƒ…
3. GET  /api/hotels/recommended  - è·å–æ¨èé…’åº—ï¼ˆé¦–é¡µå±•ç¤ºï¼‰

ã€å¯é€‰æ¥å£ã€‘
4. POST /api/bookings            - åˆ›å»ºé¢„è®¢ï¼ˆå¯å…ˆæ¨¡æ‹Ÿï¼‰
5. GET  /api/hotels/search       - æœç´¢é…’åº—ï¼ˆkeywordå‚æ•°ï¼‰
```

### æ•°æ®å­—æ®µçº¦å®š

```
ã€é…’åº—çŠ¶æ€ statusã€‘
- approved: å·²ä¸Šçº¿ï¼ˆç”¨æˆ·ç«¯å¯å±•ç¤ºï¼‰
- pending: å®¡æ ¸ä¸­ï¼ˆç”¨æˆ·ç«¯ä¸å±•ç¤ºï¼‰
- rejected: å·²æ‹’ç»ï¼ˆç”¨æˆ·ç«¯ä¸å±•ç¤ºï¼‰
- offline: å·²ä¸‹çº¿ï¼ˆç”¨æˆ·ç«¯ä¸å±•ç¤ºï¼‰

ã€è®¾æ–½ facilitiesã€‘
æ ¼å¼ï¼š"å…è´¹WiFiã€åœè½¦åœºã€å¥èº«æˆ¿ã€æ¸¸æ³³æ± "
ï¼ˆä½¿ç”¨é¡¿å·"ã€"åˆ†éš”ï¼‰

ã€å›¾ç‰‡ imagesã€‘
æ ¼å¼ï¼šJSONå­—ç¬¦ä¸²æ•°ç»„
["/uploads/hotel1.jpg", "/uploads/hotel2.jpg"]
```

---

## ğŸ¯ é¡¹ç›®æˆæœ

### å®Œæˆçš„é¡µé¢
1. âœ… é…’åº—æŸ¥è¯¢é¡µï¼ˆé¦–é¡µï¼‰- æ”¯æŒæœç´¢ã€æ—¥æœŸé€‰æ‹©ã€å¿«æ·ç­›é€‰
2. âœ… é…’åº—åˆ—è¡¨é¡µ - æ”¯æŒæ’åºã€ç­›é€‰ã€ä¸‹æ‹‰åˆ·æ–°ã€æ— é™åŠ è½½
3. âœ… é…’åº—è¯¦æƒ…é¡µ - æ”¯æŒå›¾ç‰‡è½®æ’­ã€æˆ¿å‹å±•ç¤ºã€å‘¨è¾¹ä¿¡æ¯ã€é¢„è®¢

### å®ç°çš„åŠŸèƒ½
- âœ… ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€
- âœ… æ—¥æœŸé€‰æ‹©ï¼ˆæ—¥å†ç»„ä»¶ï¼‰
- âœ… é•¿åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ã€åˆ†é¡µåŠ è½½ï¼‰
- âœ… ä¸‹æ‹‰åˆ·æ–° + ä¸Šæ‹‰åŠ è½½
- âœ… éª¨æ¶å±åŠ è½½åŠ¨ç”»
- âœ… å›¾ç‰‡æ‡’åŠ è½½
- âœ… çŠ¶æ€æŒä¹…åŒ–

---

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

1. **åœ°å›¾ç»„ä»¶**ï¼šæ·»åŠ é…’åº—ä½ç½®åœ°å›¾å±•ç¤º
2. **è¯„ä»·ç³»ç»Ÿ**ï¼šå±•ç¤ºç”¨æˆ·è¯„ä»·åˆ—è¡¨
3. **æ”¶è—åŠŸèƒ½**ï¼šå®ç°é…’åº—æ”¶è—/å–æ¶ˆæ”¶è—
4. **è®¢å•ç®¡ç†**ï¼šæˆ‘çš„é¢„è®¢è®¢å•åˆ—è¡¨
5. **å¾®ä¿¡æ”¯ä»˜**ï¼šé›†æˆå¾®ä¿¡æ”¯ä»˜å®Œæˆé¢„è®¢é—­ç¯

---

**å¼€å‘æ—¥æœŸ**: 2026å¹´2æœˆ  
**å¼€å‘è€…**: æˆå‘˜Aï¼ˆå‰ç«¯ä¸»æ”»ï¼‰
